/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/@reactflow/node-toolbar@1.3.13/dist/esm/index.mjs
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import e,{useCallback as t}from"../../react@18.2.0/_esm.js";import{useNodeId as o,useStore as n,getNodesBounds as r,internalsSymbol as s,Position as l}from"../core@11.11.3/_esm.js";import i from"../../classcat@5.0.5/_esm.js";import{shallow as a}from"../../zustand@4.5.2/shallow/_esm.js";import{createPortal as c}from"../../react-dom@18.2.0/_esm.js";const m=e=>e.domNode?.querySelector(".react-flow__renderer");function d({children:e}){const t=n(m);return t?c(e,t):null}const h=(e,t)=>e.length===t.length&&e.every(((e,o)=>((e,t)=>e?.positionAbsolute?.x===t?.positionAbsolute?.x&&e?.positionAbsolute?.y===t?.positionAbsolute?.y&&e?.width===t?.width&&e?.height===t?.height&&e?.selected===t?.selected&&e?.[s]?.z===t?.[s]?.z)(e,t[o]))),p=e=>({transform:e.transform,nodeOrigin:e.nodeOrigin,selectedNodesCount:e.getNodes().filter((e=>e.selected)).length});function u(e,t,o,n,r){let s=.5;"start"===r?s=0:"end"===r&&(s=1);let i=[(e.x+e.width*s)*t[2]+t[0],e.y*t[2]+t[1]-n],a=[-100*s,-100];switch(o){case l.Right:i=[(e.x+e.width)*t[2]+t[0]+n,(e.y+e.height*s)*t[2]+t[1]],a=[0,-100*s];break;case l.Bottom:i[1]=(e.y+e.height)*t[2]+t[1]+n,a[1]=0;break;case l.Left:i=[e.x*t[2]+t[0]-n,(e.y+e.height*s)*t[2]+t[1]],a=[-100,-100*s]}return`translate(${i[0]}px, ${i[1]}px) translate(${a[0]}%, ${a[1]}%)`}function f({nodeId:c,children:m,className:f,style:g,isVisible:y,position:x=l.Top,offset:b=10,align:w="center",...A}){const N=o(),z=t((e=>(Array.isArray(c)?c:[c||N||""]).reduce(((t,o)=>{const n=e.nodeInternals.get(o);return n&&t.push(n),t}),[])),[c,N]),$=n(z,h),{transform:_,nodeOrigin:I,selectedNodesCount:O}=n(p,a);if(!("boolean"==typeof y?y:1===$.length&&$[0].selected&&1===O)||!$.length)return null;const k=r($,I),v=Math.max(...$.map((e=>(e[s]?.z||1)+1))),C={position:"absolute",transform:u(k,_,x,b,w),zIndex:v,...g};return e.createElement(d,null,e.createElement("div",{style:C,className:i(["react-flow__node-toolbar",f]),...A},m))}export{f as NodeToolbar};export default null;
